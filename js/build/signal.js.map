{"version":3,"file":"signal.js","names":["Signal","particlePool","minSpeed","maxSpeed","speed","THREE","Math","randFloat","alive","t","startingPoint","axon","particle","getParticle","Vector3","call","prototype","Object","create","setConnection","Connection","travel","deltaTime","pos","neuronB","receivedSignal","prevReleaseAxon","neuronA","getPoint","set","x","y","z"],"sources":["../signal.js"],"sourcesContent":["// Signal extends THREE.Vector3 ----------------------------------------------------------------\n\nfunction Signal( particlePool, minSpeed, maxSpeed ) {\n\n\tthis.minSpeed = minSpeed;\n\tthis.maxSpeed = maxSpeed;\n\tthis.speed = THREE.Math.randFloat( this.minSpeed, this.maxSpeed );\n\tthis.alive = true;\n\tthis.t = null;\n\tthis.startingPoint = null;\n\tthis.axon = null;\n\tthis.particle = particlePool.getParticle();\n\tTHREE.Vector3.call( this );\n\n}\n\nSignal.prototype = Object.create( THREE.Vector3.prototype );\n\nSignal.prototype.setConnection = function ( Connection ) {\n\n\tthis.startingPoint = Connection.startingPoint;\n\tthis.axon = Connection.axon;\n\tif ( this.startingPoint === 'A' ) this.t = 0;\n\telse if ( this.startingPoint === 'B' ) this.t = 1;\n\n};\n\nSignal.prototype.travel = function ( deltaTime ) {\n\n\tvar pos;\n\tif ( this.startingPoint === 'A' ) {\n\t\tthis.t += this.speed * deltaTime;\n\t\tif ( this.t >= 1 ) {\n\t\t\tthis.t = 1;\n\t\t\tthis.alive = false;\n\t\t\tthis.axon.neuronB.receivedSignal = true;\n\t\t\tthis.axon.neuronB.prevReleaseAxon = this.axon;\n\t\t}\n\n\t} else if ( this.startingPoint === 'B' ) {\n\t\tthis.t -= this.speed * deltaTime;\n\t\tif ( this.t <= 0 ) {\n\t\t\tthis.t = 0;\n\t\t\tthis.alive = false;\n\t\t\tthis.axon.neuronA.receivedSignal = true;\n\t\t\tthis.axon.neuronA.prevReleaseAxon = this.axon;\n\t\t}\n\t}\n\n\tpos = this.axon.getPoint( this.t );\n\t// pos = this.axon.getPointAt(this.t);\t// uniform point distribution but slower calculation\n\n\tthis.particle.set( pos.x, pos.y, pos.z );\n\n};\n"],"mappings":";;AAAA;;AAEA,SAASA,MAAMA,CAAEC,YAAY,EAAEC,QAAQ,EAAEC,QAAQ,EAAG;EAEnD,IAAI,CAACD,QAAQ,GAAGA,QAAQ;EACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EACxB,IAAI,CAACC,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACC,SAAS,CAAE,IAAI,CAACL,QAAQ,EAAE,IAAI,CAACC,QAAS,CAAC;EACjE,IAAI,CAACK,KAAK,GAAG,IAAI;EACjB,IAAI,CAACC,CAAC,GAAG,IAAI;EACb,IAAI,CAACC,aAAa,GAAG,IAAI;EACzB,IAAI,CAACC,IAAI,GAAG,IAAI;EAChB,IAAI,CAACC,QAAQ,GAAGX,YAAY,CAACY,WAAW,CAAC,CAAC;EAC1CR,KAAK,CAACS,OAAO,CAACC,IAAI,CAAE,IAAK,CAAC;AAE3B;AAEAf,MAAM,CAACgB,SAAS,GAAGC,MAAM,CAACC,MAAM,CAAEb,KAAK,CAACS,OAAO,CAACE,SAAU,CAAC;AAE3DhB,MAAM,CAACgB,SAAS,CAACG,aAAa,GAAG,UAAWC,UAAU,EAAG;EAExD,IAAI,CAACV,aAAa,GAAGU,UAAU,CAACV,aAAa;EAC7C,IAAI,CAACC,IAAI,GAAGS,UAAU,CAACT,IAAI;EAC3B,IAAK,IAAI,CAACD,aAAa,KAAK,GAAG,EAAG,IAAI,CAACD,CAAC,GAAG,CAAC,CAAC,KACxC,IAAK,IAAI,CAACC,aAAa,KAAK,GAAG,EAAG,IAAI,CAACD,CAAC,GAAG,CAAC;AAElD,CAAC;AAEDT,MAAM,CAACgB,SAAS,CAACK,MAAM,GAAG,UAAWC,SAAS,EAAG;EAEhD,IAAIC,GAAG;EACP,IAAK,IAAI,CAACb,aAAa,KAAK,GAAG,EAAG;IACjC,IAAI,CAACD,CAAC,IAAI,IAAI,CAACL,KAAK,GAAGkB,SAAS;IAChC,IAAK,IAAI,CAACb,CAAC,IAAI,CAAC,EAAG;MAClB,IAAI,CAACA,CAAC,GAAG,CAAC;MACV,IAAI,CAACD,KAAK,GAAG,KAAK;MAClB,IAAI,CAACG,IAAI,CAACa,OAAO,CAACC,cAAc,GAAG,IAAI;MACvC,IAAI,CAACd,IAAI,CAACa,OAAO,CAACE,eAAe,GAAG,IAAI,CAACf,IAAI;IAC9C;EAED,CAAC,MAAM,IAAK,IAAI,CAACD,aAAa,KAAK,GAAG,EAAG;IACxC,IAAI,CAACD,CAAC,IAAI,IAAI,CAACL,KAAK,GAAGkB,SAAS;IAChC,IAAK,IAAI,CAACb,CAAC,IAAI,CAAC,EAAG;MAClB,IAAI,CAACA,CAAC,GAAG,CAAC;MACV,IAAI,CAACD,KAAK,GAAG,KAAK;MAClB,IAAI,CAACG,IAAI,CAACgB,OAAO,CAACF,cAAc,GAAG,IAAI;MACvC,IAAI,CAACd,IAAI,CAACgB,OAAO,CAACD,eAAe,GAAG,IAAI,CAACf,IAAI;IAC9C;EACD;EAEAY,GAAG,GAAG,IAAI,CAACZ,IAAI,CAACiB,QAAQ,CAAE,IAAI,CAACnB,CAAE,CAAC;EAClC;;EAEA,IAAI,CAACG,QAAQ,CAACiB,GAAG,CAAEN,GAAG,CAACO,CAAC,EAAEP,GAAG,CAACQ,CAAC,EAAER,GAAG,CAACS,CAAE,CAAC;AAEzC,CAAC"}